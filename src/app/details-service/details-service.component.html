<div class="card">
    <img src="http://127.0.0.1:8000/{{ data['image'] }}" class="card-img-top img-fluid" alt="Service Center Cover Image" />
    <div class="card-img-overlay">
        <div class="position-relative d-inline-block">
            <img src="http://127.0.0.1:8000/{{ data['image'] }}" class="rounded-circle" alt="Circle Image" width="200" />
        </div>
        <h3 class="card-title fw-bold fs-1">{{ data["name"] }}</h3>
        <p class="card-text">Location : {{ data["location"] }}</p>
        <p class="card-text">description : {{ data["description"] }}</p>
        <p class="card-text">
            @for (item of data.car; track $index) { {{ item }} }
        </p>

        <button id="pointer" (click)="goToTop()" class="rounded-5">
      <i class="fa-solid fa-up-long"></i>
    </button>
    </div>
</div>
<div class="row">

</div>

<h4 class="text-center py-5 my-4">Our service Center location: {{ data["location"] }}</h4>
<div class="servicee">

    @if (data.services.length === 0) {

    <div class="card border mb-3 w-25  m-auto pt-3">
        <div class="card-header fw-bold text-center text-body-tertiary" style="background-color: #083248; color: white !important">

        </div>

    </div>


    }
</div>



<div class="container px-4 py-5 shadow-lg" id="hanging-icons">
    <h2 class="pb-2 border-bottom" style="color: #083248">
        <span class="fw-bold" style="color: #083248">S</span>ervices
    </h2>
    <div class="row">
    @for (service of data['services']; track $index) {
      <div class="col-lg-4 col-6 fs-5">
        <p><i class="fa-solid fa-tag"></i> {{ service.service_name }}</p>
      </div>
        }
      <div class="col-2 mt-2">
          <img src="../../assets/tag.png" class="card-img-bottom img-fluid m-5 w-50" alt="Service Center Cover Image" />
      </div>
    </div>
</div>

<!-- car tags -->



<!-- car modeal -->

<h3 class="text-center mt-5 pt-3" id="texxxt">Car Models</h3>
<hr />

<div class="container fs-5" id="texxxt">
    <div class="row">
        <div class="col-9 lh-1 mt-3">
        <div class="row">
            @for (item of data.cars; track $index) {
            <div class="col-lg-4 col-6">
                <p><i class="fa-solid fa-tag"></i> {{ item['car_name'] }}</p>
            </div>
            }
        </div>
    </div>
        <div class="col-3 mt-5">
            <img src="../../assets/car.png" class="card-img-bottom img-fluid m-5 w-50" alt="Service Center Cover Image" />
        </div>
    </div>
</div>

<!-- form  -->

<!-- form  -->

<!-- الجدول -->


<div class="container my-2 py-2">
    <div class="row">
      <div class="col col-md-6">
        <div class="table-responsive">

          <table class="table w-50">
              <thead>
                  <tr>
                    <th></th>
                    <th>Working time</th>
                    <th></th>
                  </tr>
                </thead>
            <thead>
              <tr>
                <th>Day</th>
                <th>Start Time</th>
                <th>End Time</th>
              </tr>
            </thead>
            <tbody>
              @for (item of data.days; track $index) {

                  <tr>
                      <td>{{item.day}}</td>
                      <td>{{item.start_hour}}</td>
                      <td>{{item.end_hour}}</td>
                    </tr>
              }


            </tbody>
          </table>
        </div>

      </div>
        <div class=" col col-md-6 mt-5 pt-5">
            <div class="card-body border text-center w-100 fs-5">
                <img src="http://127.0.0.1:8000/{{ data['image'] }}" width="100" alt="" srcset="" />
                <h5 class="text-center py-4" id="texxxt">{{ data["name"] }}</h5>
                <a href="tel:0{{data.phone}}" class="btn btn-secondary my-2" id="btnstyle">
          Contact</a
        >
      </div>







    </div>

  </div>
</div>

<div class="card-body">
  <p class="card-text text-dark fw-lighter text-center card-des fs-4">

  </p>
  <p class="card-text text-dark fw-lighter text-center card-des fs-4">
      Reservation value <span class="badge">{{data.price}} EGP</span>
  </p>

</div>

<div class="d-flex justify-content-center my-4">
  <button type="submit" class="btn btn-danger p-4 fs-4 border-0" id="btnstyle" routerLink="/bookingnow/{{ data.id }}">
  Booking Now
</button>
</div>

<!------------------ comments --------------->

<div class="bg-image">
    <h1 style="color: black;font-family:Sofia;text-align: center;">REVIEWS</h1>
    <p style="color: black;font-family:Sofia;text-align: center;font-size: larger;">from our clients</p>

    <form (ngSubmit)="savecomment()" style="width: 100% ;">
        <div class="bg-text" style="height:160px; ">
           <input id="inputrev" type="text" class="form-control " placeholder="write your comment" name="Description" [(ngModel)]="Description">
            <br>
             <input id="inputrev" type="number" class="form-control " placeholder="write your rate" name="rate" [(ngModel)]="rate">


            <button id="inputrev" class="inputrevbutton" type="submit" id="button-addon2" style="display: flex;float: right;">
                <i class="fa-solid fa-paper-plane"></i>
            </button>

        </div>

    </form><br>
    <ul>
        <li *ngFor="let post of posts.data| paginate: { itemsPerPage: 1, currentPage: p }">

            <div class="bg-text" style="margin-left:-12px;">

                <a *ngIf="post.user_id === datauser.id" (click)="deletecomment($event, post.id)" style="display: flex; float: right;margin-right:-20px;margin-top: -20px;" class="btn btn-outline-info inputrevbutton " type="submit" id="button-addon2">
                    <i class="fa-solid fa-times-circle send-icon"></i>
                </a>

                <a *ngIf="post.user_id === datauser.id" routerLink="/comment/{{ post.id }}/edit" style="display: flex; float: right;margin-right:0px;" class="btn btn-outline-info inputrevbutton" type="submit" id="button-addon2">
                    <i class="fa-solid fa-pen send-icon"></i>
                </a>


                <div style="display: flex; float: left; margin-top:-10px;margin-left:-10px; width:50px;height: 50px;border-radius: 50%;background-color:rgb(205, 159, 144);opacity :0.5"></div>
                <div style="display: flex; float: left; margin-top:-10px;margin-left:-10px; width:20px;height: 20px;border-radius: 50%;background-color:rgb(205, 159, 144);opacity :0.5"></div>

                <div style="display: flex; float: right; margin-top:80px;margin-right:-15px; width:50px;height: 50px;border-radius: 50%;background-color: rgb(205, 159, 144);opacity :0.5"></div>
                <div style="display: flex;  float: right; margin-top:110px;margin-right:-10px; width:20px;height:20px;border-radius: 50%;background-color:rgb(205, 159, 144);opacity :0.5"></div>

                @if (post.image === null) {
                <img src="/assets/avatar.png" style="width:40px;height:40px; border-radius: 50%;"><br> }@else{
                <img src="http://127.0.0.1:8000/{{ post.image }}" style="width:40px;height:40px; border-radius: 50%;"><br> }
                <div class="col-sm-4 col-4 star-par" style=" margin-left: 140px;">
                    <ul class="stars">
                        <div class="star-rating">
                            <span style="color: goldenrod;" *ngFor="let filled of getStarRating(post.rate)" class="star" [ngClass]="{'filled': filled}">&#9733;</span>
                        </div>
                    </ul>
                </div>

                <p style="padding-left:30px; margin-left: 10px;"> {{post['name']}} </p>

                <p style="padding-left:20px;">{{post['Description']}} </p>



            </div>
            </li>
            </ul>

            <pagination-controls (pageChange)="p = $event"></pagination-controls>

            <br>

        </div>




        <br><br>
        <!------------------ comments --------------->

        <!-- <div class="commentContainer">
    <div class="CommentHolder">
        <div class="input-group mb-1 comment">
            <form (ngSubmit)="savecomment()" style="width: 100%">
                <input style="margin-bottom: 10px;" type="text" class="form-control " placeholder="write your user_name" name="Username" [(ngModel)]="Username">

                <input style="margin-bottom: 10px;" type="text" class="form-control " placeholder="write your comment" name="comment" [(ngModel)]="comment">

                <button class="btn btn-outline-info" type="submit" id="button-addon2" style="display: flex;float: right;"><i class="fa-solid fa-share"></i></button>

            </form>
        </div>
        <div class="audienceComments">


            @for (post of posts; track post.id) {
            <div class="commentCard">

                <a routerLink="/comment/{{post.id}}/edit" style="display: flex; float: right;" class="btn btn-outline-info" type="submit" id="button-addon2">
                    <i class="fa-solid fa-pen">  </i>
                </a>

                <a (click)="deletecomment($event,post.id)" style="display: flex; float: right; margin-right: 5px;" class="btn btn-outline-info" type="submit" id="button-addon2">
                    <i class="fa-solid fa-trash"></i>
                </a>

                <h5><i class="fa-regular fa-user"></i>{{post.Username}}</h5>
                <p>{{post.comment}}</p>
                <div class="likeDislike">

                    <div>
                        <span>{{countlike}}</span><i (click)="increse()" class="fa-regular fa-thumbs-up" id="like"></i>
                    </div>
                    <div>
                        <span>{{countdislike}}</span> <i (click)="decrese()" class="fa-regular fa-thumbs-down"></i>
                    </div>
                </div>
            </div>
            }
        </div>
    </div>
  </div> -->
